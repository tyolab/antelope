/*
	PREGEN_WRITER_NORMAL.H
	----------------------
*/
#ifndef PREGEN_WRITER_NORMAL_H_
#define PREGEN_WRITER_NORMAL_H_

#include "string_pair.h"
#include "pregen_t.h"
#include "pregen_writer.h"
#include "pregen_field_type.h"
#include "arithmetic_model.h"
#include "arithmetic_model_unigram.h"
#include "arithmetic_model_bigram.h"
#include "arithmetic_model_tables.h"
#include "encode_char_base37.h"
#include "encode_char_base32.h"
#include "encode_char_printable_ascii.h"


/*
	class ANT_PREGEN_WRITER_NORMAL
	------------------------------
	This pregen field class is for the normal case where the score for a document pregen
	field can be computed immediately when it is first encountered.
*/
class ANT_pregen_writer_normal : public ANT_pregen_writer
{
private:
	ANT_arithmetic_model *arithmetic_model;

	template <typename T>
	static ANT_pregen_t generate_sliding_radix(ANT_string_pair field);

	static ANT_pregen_t generate_integer(ANT_string_pair field);
	static ANT_pregen_t generate_bintrunc(ANT_string_pair field);
	static ANT_pregen_t generate_recentdate(ANT_string_pair field);

	ANT_pregen_t generate(ANT_string_pair field);

	void add_score(ANT_pregen_t score, long long count = 1);

public:
	template <typename T>
	static ANT_pregen_t generate_radix(ANT_string_pair field);

	template <typename T>
	static ANT_pregen_t generate_arithmetic(ANT_string_pair field, ANT_arithmetic_model *model);

	ANT_pregen_writer_normal(ANT_pregen_field_type type, const char * name) : ANT_pregen_writer(type, name) { init_models(); }
	ANT_pregen_writer_normal() : ANT_pregen_writer() { init_models(); }

	virtual ~ANT_pregen_writer_normal() { delete arithmetic_model; };

	void init_models()
	{
	if (type == BASE37_ARITHMETIC)
		arithmetic_model = new ANT_arithmetic_model_unigram(ANT_encode_char_base37::num_symbols, ANT_symbol_frequencies_base37, 0);
	else if (type == ASCII_PRINTABLES_ARITHMETIC)
		arithmetic_model = new ANT_arithmetic_model_unigram(ANT_encode_char_printable_ascii::num_symbols, ANT_symbol_frequencies_ascii_printables, 0);
	else if (type == BASE32_ARITHMETIC)
		{
		static unsigned int symbol_frequencies[] =
			{
			1724, /* Space */
			78, 58, 16, 6, 10, /* Merged digits 0-9 */
			827, 115, 443, 302, 1110, 163, 244, 314, 557, 17,
			85, 411, 274, 702, 670, 411, 18, 760, 567, 689, 213,
			88, 223, 26, 139, 25
			};

		arithmetic_model = new ANT_arithmetic_model_unigram(ANT_encode_char_base32::num_symbols, symbol_frequencies, 0);
		}
	else if (type == ASCII_PRINTABLES_ARITHMETIC_BIGRAM)
		{
		static unsigned int symbol_frequencies_cs[] =
			{
			1761, 191, 1, 2, 1, 1, 37, 27, 126, 133, 109, 4, 36, 57, 96, 36,
			25, 58, 45, 13, 10, 6, 1, 8, 6, 4, 60, 42, 1, 7, 1, 22,
			1, 19, 2, 19, 10, 3, 4, 847, 117, 454, 306, 1133, 167, 251, 322, 567,
			18, 85, 417, 275, 722, 686, 418, 20, 773, 580, 710, 225, 89, 230, 26, 137,
			24, 12, 40, 11, 59, 641, 59, 10, 1, 18, 1, 1, 123, 20, 782, 63,
			236, 27, 1, 195, 46, 25, 12, 80, 68, 55, 19, 8, 1, 1, 22, 2,
			50, 5, 1, 20, 1, 1, 1, 82, 1, 20, 8, 6, 1, 1476, 330, 625,
			335, 136, 448, 162, 545, 326, 93, 98, 442, 612, 422, 636, 590, 5, 1614, 643,
			877, 112, 234, 670, 13, 198, 48, 44, 167, 1, 83, 509, 4354, 6660, 1, 1,
			1, 1, 26, 2, 198, 1939, 708, 15, 1, 76, 5, 1, 1, 5, 1, 1,
			1, 1, 1, 1, 1, 1, 142, 2, 1, 1, 1, 9, 18, 20, 1, 173,
			1, 1, 1, 178, 3, 11, 1, 2, 40, 4, 4, 2, 1, 1, 1, 1,
			55, 1, 53, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 17, 154,
			169, 87, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 117, 3, 1, 224, 2, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 3, 1, 1, 126, 1261, 366, 1342, 1821, 3093, 7172,
			10, 3, 1, 1, 1, 1, 1, 1, 21, 1, 1, 1, 2, 5, 1, 1,
			1, 1, 1, 1, 130, 1, 1, 1, 1, 1, 112, 57, 1, 1, 1, 1,
			1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3514, 866,
			1, 3, 1239, 33, 2, 1, 26, 169, 38, 1, 1336, 8, 272, 99, 1, 52,
			9, 54, 1, 6, 1, 10, 4, 1, 10, 15, 1, 4, 1, 552, 2, 4,
			1, 151, 1, 1, 1, 4, 1, 8, 5, 1, 11, 246, 211, 20, 1, 2,
			8, 1, 1, 1, 21, 1, 1, 24, 81, 8, 9, 29, 14, 1, 30, 1,
			2, 1, 41, 30, 1459, 3, 1, 6, 4, 4, 3, 1, 1, 6, 27, 1,
			1, 27, 1, 1, 1, 5, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 2, 1, 1, 1, 1, 111, 1, 1, 1, 1, 1, 1, 1,
			19, 1, 1, 1, 1, 1, 1, 1, 3, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 6369, 1, 1, 1, 1, 1, 1548, 1, 1, 1, 1, 3765, 1, 1, 1,
			1, 4374, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			466, 1, 1, 1, 4, 1, 1, 2, 7, 3, 1, 1, 1, 2, 18, 1,
			450, 75, 1, 1, 1, 1, 1, 1, 1, 1, 93, 1, 1, 4, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 90, 2, 30, 54, 108, 2, 2, 141, 28,
			1, 1, 114, 373, 40, 7, 2, 1, 946, 7105, 1336, 1, 9, 1, 1, 1,
			1, 1, 1, 1, 1, 369, 562, 15, 1, 32, 1, 1, 8, 1, 633, 1,
			2, 1, 1, 1, 6, 1, 2, 287, 43, 32, 5, 1, 1, 1, 54, 1,
			115, 1, 1, 1, 1, 1, 1, 1, 1, 1, 29, 1, 1, 2445, 123, 236,
			287, 41, 177, 53, 728, 101, 52, 14, 247, 268, 1203, 276, 587, 5, 574, 505,
			906, 57, 353, 1724, 164, 5, 12, 1, 1, 1, 9, 65, 9010, 128, 1, 1,
			1, 1, 11, 1, 474, 2264, 267, 10, 1, 13, 3, 41, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 7, 10, 1, 1, 1, 1, 1, 20, 1, 2,
			1, 1, 1, 617, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			285, 115, 508, 1, 18, 111, 1, 1, 61, 5, 1, 1, 1, 82, 1, 1,
			134, 2, 1317, 37, 1, 1, 1, 1, 31, 2, 244, 268, 2646, 1, 1, 17,
			12, 13, 1, 30, 1, 16, 1, 1, 1, 1, 1, 1, 203, 1, 1, 1,
			1, 1, 1, 1, 1, 7, 1, 2, 1, 3611, 19, 55, 184, 27, 213, 15,
			79, 10, 5, 10, 304, 88, 1398, 543, 82, 25, 21, 206, 94, 25, 99, 342,
			1, 13, 109, 1, 6, 148, 986, 154, 11321, 45, 1, 1, 1, 1, 1, 1,
			1, 317, 15, 427, 81, 3, 42, 2, 4, 379, 12, 1, 3, 1, 30, 47,
			2, 1, 1, 1, 1, 6, 1, 1, 1, 1, 1, 4, 1, 1, 1, 261,
			172, 104, 71, 3, 21, 23, 332, 107, 24, 47, 18, 434, 34, 121, 228, 1,
			184, 405, 198, 482, 35, 8, 1, 1, 5, 122, 6, 1, 137, 22, 6946, 1,
			1, 1, 1, 1, 67, 1, 3, 1, 1, 1, 3, 1, 2, 1, 32, 27,
			2, 2, 2, 1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 8, 1, 1, 308, 24, 9, 3, 7, 56, 5, 8, 52, 1, 2,
			234, 4, 118, 10, 37, 1, 38, 58, 6, 1, 30, 333, 1, 1, 17, 1,
			1, 1, 1, 1, 5800, 27, 1, 1, 1, 1, 768, 17, 67, 3, 24, 1,
			1, 978, 9, 2, 17, 187, 15, 4, 12, 1, 1, 1, 4, 1, 58, 3,
			1, 2, 1, 1, 34, 5, 1, 11, 65, 1, 1, 1075, 505, 200, 101, 189,
			57, 19, 90, 53, 74, 292, 1762, 146, 452, 414, 519, 1, 108, 289, 335, 269,
			11, 315, 8, 37, 3, 1, 2, 3, 31, 214, 3447, 12, 1, 1, 1, 1,
			32, 10, 320, 565, 4, 1, 1, 31, 4245, 1, 133, 2, 1161, 260, 245, 101,
			1, 118, 2, 1, 1494, 1, 1, 1, 1, 30, 1, 1, 1, 50, 53, 5,
			1, 128, 32, 55, 5, 47, 6, 12, 5, 30, 45, 25, 72, 36, 21, 48,
			67, 1, 68, 62, 17, 10, 37, 222, 68, 2, 2, 1, 12, 44, 10, 158,
			635, 1, 1, 1, 1, 1, 1, 11, 1, 1, 2, 1, 1, 2, 3, 156,
			8, 26, 19, 28, 13, 11, 3, 1, 12, 1, 2, 1, 1, 1, 1, 1,
			1, 1, 3, 1, 1, 1, 1, 728, 334, 329, 651, 18, 240, 64, 940, 96,
			72, 4, 102, 597, 91, 38, 1403, 1, 885, 389, 256, 23, 432, 665, 59, 205,
			34, 36, 32, 1, 2, 6, 2131, 81, 1, 1, 1, 6, 1, 31, 1, 34,
			152, 1577, 28, 140, 59, 36, 3934, 660, 16, 3, 37, 2, 2, 46, 1111, 963,
			23, 8, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 22, 1, 3, 21,
			1, 1, 1, 2, 1, 35, 1, 2, 1, 7, 17, 1, 42, 1, 9, 1,
			277, 1, 1, 1, 1, 1, 1, 1, 313, 1, 1, 9, 4314, 4, 1, 1,
			1, 1, 1, 2, 4, 158, 3, 1, 37, 59, 161, 11, 481, 430, 794, 118,
			41, 48, 34, 33, 28, 22, 3, 1, 1, 1, 1, 1, 1, 1, 1, 12,
			1, 1, 1, 1, 1, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 14, 1, 1, 10, 84, 1, 1, 1, 80, 3776, 1, 1, 1, 21, 1,
			1, 20, 3566, 506, 1, 2, 1, 1, 1, 3, 323, 156, 40, 1, 336, 106,
			1009, 7, 1242, 160, 161, 88, 82, 59, 15, 1184, 118, 15, 183, 1, 1, 2,
			1, 1, 1, 1, 1, 37, 1, 1, 1, 1, 1, 1, 1, 747, 1, 1,
			1, 1, 1, 10, 1, 1, 39, 1, 1, 1, 745, 1, 745, 745, 1, 746,
			7, 745, 1, 74, 63, 206, 36, 4, 6393, 776, 1, 1, 24, 1, 48, 16,
			81, 571, 311, 1, 10, 1190, 655, 12, 492, 114, 11, 114, 18, 104, 14, 14,
			17, 5, 52, 1, 1, 1, 1, 5, 1, 21, 1, 46, 3, 1, 1, 1,
			7, 7, 2, 14, 1, 1, 7, 2, 27, 1, 172, 9, 30, 114, 11, 3,
			120, 2, 1, 1, 1, 23, 21, 1, 1, 1, 1, 280, 34, 29, 2035, 32,
			1, 1, 1, 1, 1, 22, 1294, 1576, 2700, 1, 49, 558, 800, 49, 1699, 31,
			162, 137, 114, 286, 18, 8, 46, 227, 35, 2, 1, 1, 1, 2, 1, 1,
			1, 11, 1, 1, 1, 1, 5, 1, 5, 219, 1, 1, 1, 1, 10, 1,
			13, 4, 1, 1, 1, 1, 1, 1, 197, 70, 1, 1, 25, 2, 1, 1,
			149, 2, 1, 19, 2441, 1366, 1, 1, 1, 1, 1, 23, 2, 345, 3595, 41,
			37, 26, 4, 102, 1725, 7, 61, 33, 13, 270, 87, 27, 46, 351, 35, 1,
			1, 1, 1, 5, 1, 1, 1, 35, 1, 1, 2, 1, 1, 5, 1, 1,
			1, 1, 1, 1, 1, 2, 21, 2, 1, 1, 1, 1, 1, 1, 112, 2,
			1, 1, 11, 1, 1, 1, 11, 2, 22, 1, 1975, 27, 1, 1, 1, 1,
			48, 23, 11, 37, 3461, 1, 14, 50, 33, 18, 1470, 3, 63, 17, 70, 418,
			89, 741, 27, 75, 3, 1, 1, 1, 1, 3, 1, 1, 1, 22, 1, 9,
			1, 3, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 40, 1,
			1, 1, 3, 3, 115, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 1,
			8907, 862, 1, 1, 1, 1, 3, 42, 1, 40, 3, 1, 44, 3, 9, 174,
			371, 91, 36, 21, 30, 101, 317, 123, 313, 42, 5, 1, 1, 1, 1, 13,
			1, 1, 1, 14, 1, 1, 1, 1, 1, 8, 1, 1, 1, 10, 1, 1,
			1, 1, 1, 7, 1, 1, 1, 1, 1, 2, 72, 1, 1, 1, 1, 1,
			31, 1, 7, 4, 1, 1, 4629, 122, 1, 1, 1, 10, 4, 774, 1, 128,
			1, 31, 62, 123, 98, 516, 2048, 5, 23, 51, 19, 36, 7, 103, 88, 113,
			2, 1, 1, 1, 1, 2, 1, 1, 3, 20, 1, 1, 5, 1, 1, 9,
			3046, 9, 1, 1, 1, 1, 3, 3, 45, 1, 1, 2, 2, 1, 91, 273,
			54, 2, 3, 1, 42, 1, 1, 1, 1, 1, 241, 1, 4370, 320, 1, 1,
			1, 2, 2, 611, 6, 166, 1, 22, 64, 51, 31, 63, 738, 410, 51, 317,
			38, 169, 355, 315, 766, 737, 7, 1, 1, 1, 1, 5, 1, 1, 1, 12,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 36, 1, 1, 1, 1, 5, 1,
			1, 1, 32, 1, 6, 94, 277, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 5781, 3, 1, 1, 1, 1, 1, 68, 22, 924, 210, 1, 1, 58,
			3030, 8, 3, 1, 1, 296, 1, 3, 3, 1, 5, 1, 1293, 1, 1, 1,
			1, 1, 1, 1, 2, 24, 1, 1, 1, 242, 74, 117, 992, 20, 51, 99,
			37, 70, 4, 10, 189, 15, 252, 199, 46, 1, 178, 363, 545, 6, 12, 340,
			8, 11, 4, 5, 70, 15, 58, 317, 4076, 23, 1, 1, 1, 1, 214, 1,
			15, 17, 1, 1, 1, 192, 32, 5, 1, 2, 12, 1045, 1, 1, 1, 1,
			1, 1, 12, 83, 1, 3, 1, 1, 1, 1, 1, 1, 18, 1, 1, 212,
			3, 36, 27, 27, 8, 2, 81, 936, 22, 3, 35, 115, 517, 36, 34, 1,
			19, 51, 25, 1, 18, 68, 22, 9, 1, 31, 31, 23, 23, 40, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1401, 1, 1, 1, 1, 1, 48, 12, 59, 7500, 1, 23,
			1, 2, 2, 1, 1, 57, 12, 552, 1, 1, 1, 1, 1, 1, 8, 1,
			1, 1804, 1, 4, 1, 1, 3, 56, 715, 1, 1, 133, 402, 15, 637, 3,
			15, 26, 105, 8, 1, 3, 2, 3, 1, 18, 74, 1, 1, 36, 5, 1,
			1, 10, 1, 1, 1, 1, 24, 1, 1, 2, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			3887, 489, 1, 1, 1, 1, 1820, 5, 461, 24, 169, 1, 1, 7, 36, 4,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2372,
			1, 1, 1, 5, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 8, 4,
			1, 1, 1, 1, 24, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 113, 1, 187, 342, 3620, 45, 1, 49, 1, 1, 1, 2, 1, 205,
			2, 1, 1, 51, 15, 1, 1, 30, 22, 3, 1, 1, 1, 1, 1, 1,
			2, 8, 1, 1, 1, 1, 152, 4, 1, 1, 1, 59, 1, 1, 1, 430,
			1, 1, 15, 1, 1, 10, 1, 63, 1, 5, 93, 2, 3, 1, 154, 6,
			449, 1, 3, 810, 1, 1, 1, 1, 1, 1, 25, 3705, 1342, 34, 1, 1,
			1, 1, 36, 4, 1, 1, 3, 1, 1, 17, 3, 2, 43, 72, 6, 21,
			3, 3, 1, 13, 1, 1, 2, 2, 1, 1, 1, 3, 1, 155, 1, 1,
			1, 1, 1, 1359, 380, 386, 81, 18, 181, 9, 336, 69, 2, 18, 127, 78,
			399, 475, 249, 1, 61, 282, 387, 7, 20, 1325, 1, 3, 2, 9, 15, 1,
			1, 197, 4259, 1, 1, 1, 1, 1, 2, 356, 56, 54, 26, 24, 1, 92,
			393, 361, 1, 23, 1, 5, 1, 1, 1, 1, 1, 1, 314, 4, 1, 1,
			1, 4, 1, 39, 2082, 1, 1, 1, 1, 57, 31, 84, 9, 6, 8, 2,
			169, 130, 1, 7, 183, 80, 75, 53, 5, 1, 231, 49, 268, 4, 34, 557,
			4, 1, 2, 1, 381, 3, 47, 257, 6790, 1, 1, 1, 1, 1, 1, 1,
			84, 3, 19, 23, 112, 17, 7, 57, 1, 2, 1, 1, 21, 4, 1, 1,
			1, 1, 10, 1, 1, 1, 1, 1, 1, 1324, 4, 478, 1, 1, 1, 4,
			2, 6, 1, 1, 2, 1, 1, 6, 1, 1, 1, 3, 10, 1, 1, 1,
			6, 4, 35, 1, 1, 40, 1, 6, 1, 288, 176, 140, 1222, 5, 2310, 1,
			1, 1, 1, 2, 311, 4, 38, 1430, 8, 1, 969, 379, 1027, 1, 1, 1,
			1, 12, 1, 1, 1, 1, 1, 1, 6, 14, 1, 634, 1, 1, 1, 1,
			1, 100, 3322, 446, 1, 10, 1, 5, 1, 1, 1, 1, 26, 1, 3, 1,
			5, 1353, 2, 30, 1, 1, 1, 102, 8, 4, 1, 30, 1, 1, 1, 1,
			1, 135, 297, 267, 976, 10, 1, 33, 1, 1, 53, 1, 254, 63, 514, 1,
			1, 968, 111, 1, 10, 17, 17, 132, 8, 1, 1, 1, 7, 2, 59, 2,
			1, 1, 1, 1, 10, 1, 1, 20, 723, 6309, 1, 1050, 90, 42, 616, 225,
			31, 34, 40, 5, 1, 69, 174, 38, 52, 228, 3, 1, 730, 81, 142, 63,
			46, 51, 17, 47, 1, 1, 1, 1, 53, 328, 1690, 4, 1, 1, 1, 1,
			5, 1, 1, 91, 4426, 1, 155, 41, 6, 1, 26, 9, 1, 1, 1, 1,
			1, 1, 1, 1, 17, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			343, 43, 4, 10, 3, 65, 115, 2, 55, 3, 20, 2, 119, 26, 57, 3,
			47, 1, 17, 1322, 291, 3, 3, 388, 1, 1, 1, 1, 1, 26, 1466, 323,
			554, 19, 1, 1, 1, 1, 1, 37, 2, 11, 1, 3, 3, 11, 5, 2,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 5, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 5, 202, 1364, 793, 10, 48, 216, 30, 153,
			3, 88, 631, 453, 2183, 5, 127, 1, 1252, 437, 805, 105, 184, 86, 18, 446,
			23, 1, 2, 1, 4, 8, 533, 164, 1, 1, 1, 1, 1, 5, 10, 1,
			1, 1, 1, 24, 7, 1, 1, 1, 1, 1, 5, 1, 1, 1, 1, 1,
			12, 1, 1, 1, 1, 1, 1, 1, 1, 6, 1, 1, 1, 1317, 77, 8,
			16, 2568, 1, 1, 4, 1040, 33, 4, 1607, 12, 1, 1329, 18, 1, 471, 35,
			4, 254, 1, 14, 1, 104, 40, 1, 1, 1, 14, 7, 210, 11, 1, 1,
			20, 1, 1, 58, 1, 49, 1, 1, 1, 2, 5, 2, 1, 3, 1, 1,
			1, 1, 1, 1, 1, 1, 41, 1, 1, 1, 1, 1, 1, 1, 1, 2,
			1, 1, 1, 1327, 1, 3346, 2, 4439, 3, 2, 944, 283, 1, 961, 1498, 1,
			1, 706, 51, 1, 230, 291, 356, 140, 1, 2, 1, 31, 1, 1, 1, 1,
			1, 115, 5418, 464, 1, 1, 1, 1, 15, 5, 49, 144, 8, 1, 40, 19,
			159, 31, 1, 285, 1, 1, 1, 1, 1, 1, 1, 1, 42, 3, 1, 1,
			1, 31, 1, 1, 1, 81, 1, 1, 1, 867, 4, 96, 122, 2438, 11, 66,
			5, 701, 1, 1, 62, 11, 113, 1789, 13, 1, 524, 1038, 2, 248, 181, 17,
			2, 74, 2, 1, 2, 3, 24, 37, 2343, 91, 1, 1, 1, 1, 4, 22,
			18, 34, 23, 6, 103, 34, 47, 39, 1, 3, 77, 3, 1, 2, 1, 1,
			1, 1, 21, 9, 1, 1, 1, 46, 1, 1, 1, 3, 1, 1, 1, 580,
			32, 135, 500, 627, 14, 19, 10, 19, 1, 53, 154, 459, 594, 14, 895, 27,
			1196, 736, 404, 10, 64, 365, 37, 33, 23, 1, 11, 2, 27, 27, 4727, 23,
			1, 1, 1, 1, 11, 69, 1, 82, 1, 1, 110, 122, 40, 179, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 132, 4, 1, 1, 1, 3, 1, 1,
			1, 45, 1, 1, 1, 1449, 3, 52, 1, 935, 440, 31, 36, 826, 4, 1,
			196, 1, 1, 1962, 14, 7, 1562, 67, 986, 324, 1, 2, 1, 26, 1, 1,
			1, 1, 1, 38, 3058, 1497, 1, 1, 1, 1, 3, 65, 6, 894, 642, 2,
			143, 14, 253, 25, 1, 1, 15, 1, 1, 1, 1, 1, 1, 1, 179, 1,
			1, 1, 1, 29, 1, 1, 1, 9, 1, 1, 1, 278, 3, 78, 55, 1168,
			1, 67, 831, 857, 1, 1, 111, 1, 137, 602, 3, 1, 298, 394, 201, 269,
			1, 80, 1, 16, 4, 1, 16, 35, 157, 61, 848, 4, 1, 1, 1, 1,
			1, 7, 17, 3, 1, 1, 32, 1, 7, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 68, 1, 1, 1, 1, 14, 1, 1, 1, 16, 1, 2,
			1, 1178, 9, 34, 5, 2809, 1, 1, 2, 1007, 1, 3, 68, 24, 3, 1331,
			4, 1, 604, 53, 190, 419, 1, 8, 1, 13, 18, 1, 1, 1, 7, 29,
			345, 6, 1, 1, 1, 1, 1, 83, 1, 1, 1, 1, 3, 213, 3, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2,
			1, 1, 1, 1, 1, 1, 1, 212, 71, 749, 616, 645, 458, 521, 3, 60,
			1, 38, 687, 452, 5036, 1252, 71, 19, 905, 1036, 1484, 4, 236, 8, 15, 14,
			32, 1, 1, 11, 4, 29, 36, 3, 1, 1, 1, 1, 1, 1, 1, 19,
			1, 1, 2, 1, 24, 1, 1, 1, 1, 60, 1, 1, 1, 5, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1426, 10, 1,
			22, 767, 1, 1, 7, 137, 13, 2, 1, 1, 1, 6036, 1, 1, 1, 12,
			6, 1536, 1, 42, 1, 1, 2, 1, 1, 1, 1, 2, 2001, 66, 1, 1,
			1, 1, 16, 19, 21, 149, 4, 6, 35, 7, 31, 35, 1, 5, 1, 1,
			1, 1, 1, 1, 1, 11, 17, 1, 1, 1, 1, 8, 1, 1, 1, 1,
			6, 5, 1, 344, 84, 232, 26, 1456, 9, 5, 40, 2008, 1, 28, 131, 5,
			631, 608, 20, 1, 22, 537, 29, 106, 1, 6, 1, 544, 1, 1, 26, 1,
			14, 17, 1305, 87, 1, 1, 1, 1, 1, 3, 26, 21, 8, 1, 33, 9,
			28, 14, 1, 2, 1, 17, 1, 1, 1, 1, 1, 1, 6, 1, 1, 1,
			1, 5, 1, 1, 1, 11, 1, 1, 1, 1822, 4, 59, 518, 2255, 1377, 1,
			7, 1437, 18, 23, 1034, 22, 6, 1579, 61, 1, 1, 198, 319, 308, 185, 294,
			1, 369, 4, 1, 3, 3, 10, 173, 629, 5, 1, 1, 1, 1, 1, 2,
			3, 8, 2, 1, 1, 3, 17, 4, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 17, 1, 1, 1, 1, 32, 1, 1, 1, 1, 1, 1, 1, 2026,
			1057, 34, 3, 1795, 2, 50, 1, 731, 1, 1, 7, 150, 4, 799, 789, 1,
			1, 259, 1, 184, 1, 1, 7, 454, 1, 1, 1, 1, 16, 20, 2325, 239,
			1, 1, 1, 1, 76, 63, 79, 88, 76, 1, 71, 25, 39, 161, 1, 6,
			1, 1, 1, 1, 1, 1, 2, 6, 36, 1, 1, 1, 1, 6, 1, 1,
			1, 19, 1, 2, 1, 369, 14, 514, 1392, 1826, 27, 3100, 3, 499, 10, 49,
			51, 1, 225, 672, 3, 1, 5, 364, 681, 42, 18, 2, 3, 106, 6, 1,
			2, 1, 92, 37, 660, 12, 1, 1, 1, 1, 2, 3, 1, 1, 9, 1,
			6, 3, 8, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1,
			1, 1, 1, 24, 1, 1, 1, 1, 1, 1, 1, 113, 51, 237, 192, 32,
			589, 281, 18, 241, 1, 169, 1342, 1016, 1792, 600, 740, 1, 2067, 356, 562, 1297,
			391, 747, 23, 88, 7, 1, 1, 1, 1, 10, 1551, 179, 1, 1, 1, 1,
			12, 7, 65, 1212, 179, 1, 106, 152, 90, 65, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 141, 416, 1, 1, 1, 5, 1, 1, 1, 32, 1, 1,
			1, 690, 1, 4, 32, 2055, 15, 42, 258, 635, 1, 1, 1044, 3, 1, 767,
			188, 1, 339, 168, 3427, 101, 1, 2, 1, 25, 1, 1, 183, 30, 92, 58,
			101, 1, 1, 1, 1, 1, 2, 6, 1, 1, 1, 1, 1, 3, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 15, 1, 1, 1, 13,
			1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 15676, 1, 2, 1, 1,
			1, 1, 1, 1, 1, 1, 1854, 41, 1, 1, 1, 1, 3, 34, 17, 8,
			3, 1, 41, 20, 19, 41, 1, 8, 90, 1, 1, 1, 1, 1, 1, 1,
			26, 1, 1, 1, 1, 6, 1, 1, 1, 2, 18, 1, 1, 1415, 51, 63,
			197, 2685, 24, 41, 13, 1167, 1, 221, 106, 151, 201, 1073, 2456, 2, 584, 1353,
			622, 299, 68, 5, 7, 336, 2, 1, 7, 1, 13, 50, 4021, 674, 1, 3,
			1, 1, 5, 13, 74, 211, 26, 10, 182, 26, 122, 54, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1, 136, 2, 1, 1, 1, 67, 1, 1, 1, 15,
			1, 2, 1, 119, 2, 283, 1, 1484, 19, 4, 454, 440, 1, 303, 37, 36,
			32, 466, 203, 54, 3, 297, 1439, 169, 1, 44, 1, 39, 1, 1, 94, 3,
			81, 18, 2138, 174, 1, 1, 1, 1, 3, 65, 10, 26, 4, 2, 14, 21,
			30, 26, 1, 2, 90, 1, 1, 1, 1, 1, 1, 1, 27, 427, 1, 1,
			1, 60, 1, 2, 1, 6, 1, 1, 1, 545, 1, 87, 8, 1262, 9, 1,
			2886, 2356, 1, 1, 278, 28, 14, 705, 1, 1, 671, 1306, 313, 176, 2, 44,
			3, 118, 5, 1, 7, 2, 9, 14, 807, 31, 1, 1, 1, 1, 1, 160,
			1, 3, 4, 1, 1, 7, 22, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 5, 1, 1, 1, 1, 1, 21, 1, 1, 1, 1, 1, 1, 1, 110,
			284, 342, 342, 400, 226, 213, 26, 254, 4, 76, 449, 601, 1197, 462, 351, 1,
			1127, 1218, 850, 5, 13, 1, 16, 21, 1, 1, 12, 1, 2, 5, 38, 1,
			1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1359, 1, 1, 1,
			207, 105, 175, 41, 67, 67, 12, 1, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 1, 1, 1, 1769, 1, 1, 1, 6075, 1, 1, 1, 954, 1, 1,
			39, 1, 1, 252, 3, 1, 128, 327, 1, 28, 2, 1, 1, 62, 1, 1,
			1, 1, 1, 8, 1561, 225, 1, 1, 1, 1, 40, 5, 1, 81, 104, 1,
			31, 3, 35, 77, 1, 1, 177, 1, 1, 1, 1, 1, 1, 1, 133, 1,
			1, 1, 1, 17, 1, 1, 1, 18, 1, 1, 1, 2199, 48, 122, 2, 1323,
			2, 1, 587, 2138, 7, 81, 214, 1, 248, 2497, 24, 1, 39, 49, 2, 12,
			1, 4, 1, 37, 1, 1, 2, 12, 11, 9, 1041, 25, 1, 1, 1, 1,
			5, 43, 1, 2, 1, 1, 61, 46, 159, 42, 1, 4980, 11, 142, 1, 1,
			1, 1, 1, 1, 11, 1, 1, 1, 1, 6, 1, 1, 1, 1, 1, 1,
			1, 38, 1, 221, 109, 179, 1, 18, 6, 522, 2, 4, 1, 567, 3, 217,
			287, 1, 13, 69, 305, 17, 1, 36, 136, 90, 1, 1, 3, 1, 1, 238,
			5551, 530, 1, 1, 1, 1, 3, 142, 101, 355, 23, 6, 353, 27, 120, 92,
			1, 3, 326, 2, 3, 1, 20, 8, 1, 1, 66, 3, 1, 1, 1, 32,
			1, 6, 1, 12, 168, 5, 1, 314, 86, 121, 69, 466, 9, 13, 1, 64,
			2, 2, 106, 81, 35, 3342, 191, 1, 78, 1778, 111, 307, 38, 24, 12, 3,
			1, 1, 9, 79, 96, 10, 1285, 128, 1, 1, 1, 1, 10, 19, 18, 18,
			1, 1, 73, 4, 5, 38, 18, 1, 1, 1, 1, 47, 1, 1, 9, 1,
			189, 3, 1, 1, 1, 36, 1, 1, 1, 1, 1, 27, 1, 1168, 1, 1,
			1, 2989, 1, 1, 2, 1063, 1, 6, 34, 5, 2, 2269, 1, 1, 27, 1,
			18, 157, 10, 1, 1, 973, 1608, 1, 1, 1, 18, 6, 612, 1, 1, 1,
			1, 1, 25, 1, 7, 1, 399, 45, 1, 2, 67, 1, 42, 54, 322, 5,
			9, 5, 1, 1, 1, 1, 22, 1, 1, 1, 1, 1, 1, 68, 1, 1,
			1, 1, 1, 1984, 52, 101, 64, 19, 189, 24, 281, 130, 1, 26, 345, 114,
			534, 543, 358, 17, 96, 425, 419, 19, 94, 337, 1, 18, 7, 153, 1, 1,
			391, 31, 7744, 73, 1, 1, 1, 1, 40, 1, 1, 1, 85, 1, 1, 5,
			17, 35, 1, 105, 59, 1, 1, 1, 1, 1, 2, 1, 77, 1, 1, 1,
			1, 1, 1, 1, 1, 4, 1, 1, 1, 573, 6, 17, 47, 27, 107, 23,
			454, 34, 78, 15, 154, 5, 45, 303, 59, 7, 111, 166, 229, 89, 1, 515,
			2, 1, 1, 1, 3181, 1, 70, 233, 9001, 1, 1, 1, 1, 1, 117, 1,
			7, 24, 4, 5, 1, 74, 27, 26, 1, 1, 1, 1, 1, 1, 1, 1,
			1, 1, 112, 187, 1, 1, 1, 1, 1, 20, 83, 26, 7, 1, 1, 15,
			5, 51, 5, 1, 3, 1, 1, 1, 31, 1, 1, 2, 1, 52, 97, 1,
			11, 5, 26, 1, 1, 1, 1, 1, 1, 752, 30, 1414, 724, 9, 3266, 83,
			1, 1, 1, 1, 26, 5, 239, 55, 914, 7, 1, 17, 5, 2, 1, 37,
			1, 8, 1, 1, 1, 1, 1, 1, 46, 1, 1, 1, 1, 1, 1, 8,
			1, 3, 20, 1, 1, 1189, 45, 85, 99, 16, 140, 4, 131, 202, 20, 64,
			289, 388, 395, 209, 85, 1, 254, 294, 379, 4, 12, 722, 1, 1, 2, 91,
			30, 113, 453, 662, 1323, 24, 1, 1, 1, 1, 35, 20, 28, 4, 3, 1,
			53, 48, 54, 1, 1, 6, 2, 1, 1, 1, 1, 1, 1, 1, 56, 1,
			1, 1, 1, 2, 1, 1, 1, 10, 5, 8, 43, 34, 7, 88, 3, 44,
			25, 13, 4, 25, 2, 17, 24, 16, 90, 56, 45, 1, 43, 34, 24, 5,
			2, 19, 28, 2, 1, 1, 11, 1, 73, 10741
			};

		arithmetic_model = new ANT_arithmetic_model_bigram(ANT_encode_char_printable_ascii::num_symbols, symbol_frequencies_cs, 0);
		}
	else
		arithmetic_model = NULL;
	}

	virtual void add_field(long long docindex, ANT_string_pair content);
};


#endif /* PREGEN_WRITER_NORMAL_H_ */
